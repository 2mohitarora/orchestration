# On east-jumbox
consul config write east-gateway.hcl
consul config list -kind api-gateway
consul config read -kind api-gateway -name east-gateway 

# On West-jumpbox
consul config write west-gateway.hcl
consul config list -kind api-gateway
consul config read -kind api-gateway -name west-gateway 


# Create east and west gateway nodes 
# Install consul client

# Install Envoy


# Start consul 
consul connect envoy -gateway api -register -service east-api-gateway -ignore-envoy-compatibility -envoy-binary ~/.func-e/versions/1.27.2/bin/envoy -enable-config-gen-logging

#consul connect envoy -gateway api -ignore-envoy-compatibility -envoy-binary ~/.func-e/versions/1.27.2/bin/envoy -bootstrap > /tmp/bootstrap.json
#consul services deregister -id east-api-gateway
#consul force-leave -prune east-ingress-gateway-1


